# 8장 스마트컨트랙트와 바이퍼

스마트 컨트랙트의 공통적인 문제와 바이퍼 컨트랙트 프로그래밍 언어 소개 및 솔리디티와의 차이점을 알아보자

## 바이퍼?

이더리움 가상 머신을 위한 실험적인 컨트랙트용 프로그래밍 언어

이해하기 쉬운 코드 작성 가능으로 감사 용이성을 제공하고자 만들어졌음.

바이퍼의 주요 원칙 중 하나는 오독하기 쉬운 코드(misleading code)를 작성할 수 없게 하자는 것.

## 취약점과 바이퍼

취약점을 가진 스마트 컨트랙트가 아주 많다는 사실을 확인하였고

분석을 통해 세 가지 유형으로 요약하였음.

- 자기파괴 컨트랙트 : 아무 주소를 이용해서 삭제시킬 수 있음
- 탐욕 컨트랙트 : 이더를 빼올 수 없도록 막아버리는 상태에 도달할 수 있는 컨트랙트
- 방탕한 컨트랙트 : 이더를 아무런 주소로 보낼 수 있게 만든 스마트 컨트랙트

## 솔리디티와 비교

바이퍼가 안전하지 않은 코드 작성 방지 방법 중 하나가 **솔리디티 기능 중 일부를 생략하는 것**

어떤 것들이 생략되었고 그러한 이유는 무엇인지 알아보자.

### 변경자

### 클래스 상속

바이퍼는 다중 상속이 코드를 이해하기 어렵다는 견해를 갖고 있음.

### 인라인 어셈블리

가독성 손실에 비중을 두고 있기 때문에 지원하지 않는다

ex) 

```jsx
// 메모리 위치 0x80에 3을 더하는 코드
3 0x80 mload add 0x80 mstore
```

### 함수 오버로딩

동일한 이름의 여러 함수 정의가 혼란스러울 수 있다는 견해.

### 변수 형변환

- 형변환에는 암시적 형변환과 명시적 형변환의 두 가지 종류가 있습니다.
- 암시적 형변환은 종종 컴파일 타임에 수행됩니다.
- 바이퍼는 암시적 형변환을 허용하지 않습니다.

```jsx
uint32 a = 0x12345678;
uint16 b = uint16(a);
// 변수 b는 이제 0x5678
```

바이퍼에서는 명시적 형변환에  convert 함수를 사용함

